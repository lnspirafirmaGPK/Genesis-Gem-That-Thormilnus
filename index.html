    <script>
        // 1. ลงทะเบียน PWA Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(reg => console.log('Solus PWA Active'))
                    .catch(err => console.log('Registration failed', err));
            });
        }

        // 2. ฟังก์ชันส่งข้อมูลไปยัง API (RitualResponse)
        async function sendRitualData(data) {
            try {
                const response = await fetch('/api/rituals', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                const result = await response.json();
                console.log("บันทึกสำเร็จ ID:", result.id); // จะได้รับ 'id' ที่แปลงมาจาก '_id' อัตโนมัติ
            } catch (error) {
                console.error("Error:", error);
            }
        }
    </script>
</body>
</html>